<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog - Unift's Blog</title>
    <link rel="stylesheet" href="css/blogs.css">
    <link rel="icon" href="images/oc.ico" type="image/x-icon" />
</head>
<body>
    <header>
        <nav>
            <h1 style="color: aliceblue; font-family: 'Times New Roman', Times, serif;">Unift<span style="--text-stroke-color:aliceblue; color: transparent; -webkit-text-stroke: 1px var(--text-stroke-color);">'s Blog</span></h1>    
            <ul>
                <li>
                    <a href="index.html">
                        <button class="nav_button">
                            <span>&nbsp;Index&nbsp;</span>
                            <span aria-hidden="true" class="hovertext">&nbsp;Index&nbsp;</span>
                        </button>
                    </a>
                </li>
                <li>
                    <a href="blogs.html">
                        <button class="nav_button_s">
                            <span>&nbsp;Blog&nbsp;</span>
                            <span aria-hidden="true" class="hovertext">&nbsp;Blog&nbsp;</span>
                        </button>
                    </a>
                </li>
                <li>
                    <a href="documents.html">
                        <button class="nav_button">
                            <span>&nbsp;Docs&nbsp;</span>
                            <span aria-hidden="true" class="hovertext">&nbsp;Docs&nbsp;</span>
                        </button>
                    </a>
                </li>
                <li>
                    <a href="link.html">
                        <button class="nav_button">
                            <span>&nbsp;Link&nbsp;</span>
                            <span aria-hidden="true" class="hovertext">&nbsp;Link&nbsp;</span>
                        </button>
                    </a>
                </li>
                <li>
                    <a href="me.html">
                        <button class="nav_button">
                            <span>&nbsp;Me&nbsp;</span>
                            <span aria-hidden="true" class="hovertext">&nbsp;Me&nbsp;</span>
                        </button>
                    </a>
                </li>
            </ul>
        </nav>
    </header>
    <section>
        <div class="color"></div>
        <div class="color"></div>
        <div class="color"></div>
        <div class="box" id="blog-container">
            <!-- 博客内容将通过JavaScript动态加载 -->
            <div class="loading">正在加载博客内容...</div>
        </div>
    </section>
    <button id="backToTopBtn" onclick="scrollToTop()"> </button>
    
    <script>
        // 从外部JSON文件加载博客数据
        async function loadBlogs() {
            try {
                const response = await fetch('json/blogs.json');
                const data = await response.json();
                displayBlogs(data.blogs);
            } catch (error) {
                console.error('加载博客数据失败:', error);
                document.getElementById('blog-container').innerHTML = '<div class="loading">const response = await fetch(\'json/blogs.json\');</div>';
            }
        }

        // 显示博客内容
        function displayBlogs(blogs) {
            const container = document.getElementById('blog-container');
            container.innerHTML = '';
            
            blogs.forEach(blog => {
                const blogElement = document.createElement('div');
                blogElement.className = 'container';
                
                let imageHTML = '';
                if (blog.image) {
                    // 如果有自定义尺寸，使用自定义尺寸，否则使用默认尺寸
                    const width = blog.imageWidth || '504px';
                    const height = blog.imageHeight || '378px';
                    imageHTML = `<img src="${blog.image}" alt="博客图片" style="width: ${width}; height: ${height}; margin-top: 15px;">`;
                }
                
                blogElement.innerHTML = `
                    <div class="title">
                        <h2>${blog.title}</h2>
                    </div>
                    <div class="passage">
                        <p>${blog.content}</p>
                        ${imageHTML}
                    </div>
                `;
                container.appendChild(blogElement);
            });
        }

        // 页面加载完成后获取博客数据
        document.addEventListener('DOMContentLoaded', function() {
        loadBlogs();
        });

        // 返回顶部功能
        window.onscroll = function() {scrollFunction()};
         
        function scrollFunction() {
            if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
                document.getElementById("backToTopBtn").style.display = "block";
            } else {
                document.getElementById("backToTopBtn").style.display = "none";
            }
        } 
        
        function scrollToTop() {
            window.scrollTo({top: 0, behavior: 'smooth'});
        }
    </script>
    
    <script src="https://unpkg.com/lenis@1.2.3/dist/lenis.min.js"></script> 
    <script>
        // Initialize Lenis/ Customize
        const lenis = new Lenis({
            wrapper: window,
            smoothwheel: true,
            duration: 1,
        });
        
        //Run
        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);
    </script>
</body>
</html>







